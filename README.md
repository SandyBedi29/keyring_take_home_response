I have used FastAPI to handle mentioned 50 TPS. 
Setup Virtual Env and I have setup an app folder to provide better structure. 
Requirements.txt is create thru pip freeze and shows all dependencies. 
The other files are database.py, models.py, oauth.py and schemas.py. database and models are just placeholder. 
I have setup two routes and this can be scaled as up required.

First route is to login the user and get a valid JWT token. 
The email id is being used as user id. 
The user input is email and password, which is validated against a in memory table. 
This in memory table also has subscription details, so also returns if customer is paying or not. 
This returns the access token back to the calling entity.

Second route is to get data from ALCHEMY. 
This API also has a dependency to recieve a valid JWT token generated by user login API else the access will not be granted. 
Two ALCHEMY API are called here "method": "eth_getTransactionByHash" and "method": "eth_getBlockByNumber". 
The rating is calculated based on the provided pseudo code. 
Next check is for paying customer and also for age of the transaction. 
I have assumed 300 Seconds or 5 mins to be OLD vs NEW. 
For paying customers they have access to all ratings and for non-paying customers they can only access transactions older than 5 mins.

The .env file contains all the constants and can be altered centrally as required. 
ALCHEMY_URL and ALCHEMY_API_KEY for url and API key. 
SECRET_KEY for JWT ALGORITHM to algo type PAYING_CUST_SECOND_LIMIT determines OLD vs NEW transactions. 
Non Paying customer can only access transactions older than 5 mins. 
ACCESS_TOKEN_EXPIRE_MINUTES JWT token expires in 30 mins.

All the test cases I have uploaded seperately with screen shots - see the PDF in the root directory

Thanks
